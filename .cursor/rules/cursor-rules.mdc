---
description: How to add or edit Cursor rules in our project
globs: 
alwaysApply: false
---
# Cursor Rule Placement

- Place all rule files in PROJECT_ROOT/.cursor/rules/
- Use kebab-case and .mdc extension
- Never place rules outside .cursor/rules/

# Cursor Rules Location

How to add new cursor rules to the project

1. Always place rule files in PROJECT_ROOT/.cursor/rules/:
    ```
    .cursor/rules/
    ├── your-rule-name.mdc
    ├── another-rule.mdc
    └── ...
    ```

2. Follow the naming convention:
    - Use kebab-case for filenames
    - Always use .mdc extension
    - Make names descriptive of the rule's purpose

3. Directory structure:
    ```
    PROJECT_ROOT/
    ├── .cursor/
    │   └── rules/
    │       ├── your-rule-name.mdc
    │       └── ...
    └── ...
    ```

4. Never place rule files:
    - In the project root
    - In subdirectories outside .cursor/rules
    - In any other location

5. Cursor rules have the following structure:

```
---
description: Short description of the rule's purpose
globs: optional/path/pattern/**/*
alwaysApply: false
---
# Rule Title

Main content explaining the rule with markdown formatting.

1. Step-by-step instructions
2. Code examples
3. Guidelines

Example:

```typescript
// Good example
function goodExample() {
  // Implementation following guidelines
}

// Bad example
function badExample() {
  // Implementation not following guidelines
}
```

# Convex API Usage Rule

## Correct Usage for Generated Actions

- For Convex actions defined in subfolders (e.g., convex/address/getPlaceSuggestions.ts), always use the double-nested export as generated by Convex:
  - `api.address.getPlaceSuggestions.getPlaceSuggestions`
- Do NOT use string paths (e.g., `api["address/getPlaceSuggestions"]`) or single-nested properties (e.g., `api.address.getPlaceSuggestions`).
- Always check the generated types in `convex/_generated/api.d.ts` for the correct structure.

## Common Errors
- "Could not find public function for 'address:getPlaceSuggestions'"
- Type errors about missing properties or incorrect types

## Example
```ts
// Correct
useAction(api.address.getPlaceSuggestions.getPlaceSuggestions)

// Incorrect
useAction(api["address/getPlaceSuggestions"])
useAction(api.address.getPlaceSuggestions)
```

## Rationale
Convex generates a nested object for each file and export, so the correct path is always `api.folder.file.exportName`.

